# azure-pipelines.yml in RepoA (Primary Repository)

trigger:
  branches:
    include:
      - main
      - pip1

pool:
  name: default

# Checkout both RepoA (primary) and RepoB (secondary)
resources:
  repositories:
    - repository: RepoB   # Alias for the secondary GitHub repository
      type: github
      name: git://Shrutidhanawade/Newdemo-27-8-2024  # Replace with your GitHub organization and repo name
      ref: main  # Branch to pull from RepoB
      endpoint: Shrutidhanawade  # GitHub service connection for authentication

steps:
# Checkout the primary repository (RepoA)
- checkout: git://Shrutidhanawade/Newdemo-27-8-2024@main
  displayName: 'Checkout RepoA (Primary Repository)'

# Checkout the secondary repository (RepoB)
- checkout: git://Shrutidhanawade/Newdemo-27-8-2024@pip1
  displayName: 'Checkout RepoB (Secondary Repository)'

# Build and test Java code in RepoA using Maven

- task: CmdLine@2
  inputs:
    script: |
      echo Write your commands here
      
      echo Hello world
       java HelloWorld.java
  displayName: 'Build and Test RepoA'

# Build and test Java code in RepoB using Maven
- script: |
    echo "Building RepoB"

- task: CmdLine@2
  inputs:
    script: |
      echo Write your commands here
      echo Hello world
       java HelloWorld.java
  displayName: 'Build and Test RepoB'

